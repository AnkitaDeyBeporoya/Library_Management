
{% extends "base.html" %}

{% block title %} Add book | Library{% endblock %}

{% block content %}

 
<style>
.btn{
    display: inline-block;
    padding: 10px 20px;
    background-color:rgba(95, 95, 105, 1);
    color: white;
    text-decoration: none;
    border-radius: 4px;
    font-weight: bold;
    transition: background-color 0.3s;
}
.btn:hover {
    background-color: rgba(33, 32, 32, 1);
    color: white;
}

.error {
    color: red;
    font-size: 14px;
}
</style> 


    {% load static %}
    <h4>Add Book</h4>

<div class="card card-secondary">
  <div class="card-header">
    <h3 class="card-title">Fill this up:</h3>
  </div>
  
  <form method="POST" id="Registration" novalidate>
        {% csrf_token %}

    <div class="card-body">
      <div class="form-group">
            <label for="book_name" class="form-label mt-3">Book Name:</label>
            <input type="text" class="form-control" id="book_name" name="book_name" placeholder="enter book name" required>
                <div id="nameError" class="error"></div>
      </div>
      <div class="form-group">
            <label for="author" class="form-label mt-3">Author's Name:</label>
            <input type="text" class="form-control" id="author" name="author" placeholder="enter authors name" required>
                <div id="authorError" class="error"></div>
      </div>
      <div class="form-group">
            <label for="type" class="form-label mt-3">Type:</label>
            <input type="text" class="form-control" id="type" name="type" placeholder="enter book type" required>
                <div id="typeError" class="error"></div>
      </div>
      <div class="form-group">
            <label for="stock" class="form-label mt-3">Stack:</label>
            <input type="number" class="form-control" id="stock" name="stock" placeholder="0" required>
                <div id="Error" class="error"></div>
      </div>

      {% comment %} <div class="form-check">
        <input type="checkbox" class="form-check-input" id="exampleCheck1">
        <label class="form-check-label" for="exampleCheck1">Check me out</label>
      </div>
    </div> {% endcomment %}
   
    <div class="card-footer">
        <button type="submit" class="btn mt-5">Add Book</button>
        <a href="{% url 'books' %}" class="btn mt-5 ms-3">Cancel</a>
    </div>
  </form>
</div>















{% comment %} 



<div class="container mb-5">
    <h4>Add Book</h4>
    {% load static %}

    <form method="POST" id="Registration" novalidate>
        {% csrf_token %}
         <div class="form mb-3 bg p-5 rounded-4">
                <h2 class="text-center">Add Book</h2>

                <label for="book_name" class="form-label mt-3">Book Name:</label>
                <input type="text" class="form-control" id="book_name" name="book_name" placeholder="enter book name" required>
                <div id="nameError" class="error"></div>

                <label for="author" class="form-label mt-3">Author's Name:</label>
                <input type="text" class="form-control" id="author" name="author" placeholder="enter authors name" required>
                <div id="authorError" class="error"></div>

                <label for="type" class="form-label mt-3">Type:</label>
                <input type="text" class="form-control" id="type" name="type" placeholder="enter book type" required>
                <div id="typeError" class="error"></div>

                <label for="stock" class="form-label mt-3">Stack:</label>
                <input type="number" class="form-control" id="stock" name="stock" placeholder="0" required>
                <div id="Error" class="error"></div>


        <button type="submit" class="btn mt-5">Add Book</button>
        <a href="{% url 'books' %}" class="btn mt-5 ms-3">Cancel</a>

    </form>
</div> {% endcomment %}


<script> 

function clearErrors(){
    const errorElements = document.querySelectorAll('.error');
    errorElements.forEach(Element => {
        Element.textContent = '';
    });
    }


function Vbname() {
    const name = document.getElementById('book_name').value.trim();
    const nameError = document.getElementById('nameError');

    if (name === '') {
        nameError.textContent = "Book's is required";
        return false;
    }
    return true;
}
function Vaname() {
    const aname = document.getElementById('author').value.trim();
    const authorError = document.getElementById('authorError');

    if (aname === '') {
        authorError.textContent = "Author's name is required";
        return false;
    }
    return true;
}

function Vtype() {
    const type = document.getElementById('type').value.trim();
    const typeError = document.getElementById('typeError');

    if (type === '') {
        typeError.textContent = 'Type is required';
        return false;
    }
    return true;

}


function Vstock() {
    const stock = document.getElementById('stock').value.trim();
    const error = document.getElementById('stockError');
    if (stock === '') {
        error.textContent = 'Stock is required';
        return false;
    }
    if ( stock <= 0) {
        error.textContent = 'Stock must be a non-negative number';
        return false;
    }
    return true;
}
   
document.getElementById('Registration').addEventListener('submit', function(event){
    event.preventDefault();
    clearErrors();

    const bnameV = Vbname();
    const anameV = Vaname();
    const typeV = Vtype();
    const stockV = Vstock();


    if (bnameV && anameV && typeV && stockV) {
        this.submit();
    }
});

</script>


{% endblock %}